<p-toast></p-toast>

<p-card *ngIf="!loading">
  <div class="p-grid p-flex-column">
    <div class="p-col-6 p-offset-3">
      <div class="mono-font p-text-center">
        Update your profile
      </div>
    </div>
    <br>
    <div class="p-col-6 p-offset-3">
      <span class="p-float-label">
        <input type="text" id="email" name="email" aria-describedby="email-help"
               pInputText [(ngModel)]="me.email">
        <label for="email">Email</label>
      </span>
    </div>
    <br>
    <div class="p-col-6 p-offset-3">
      <span class="p-float-label">
        <input type="text" id="username" name="username" aria-describedby="username-help"
               pInputText [(ngModel)]="me.userName">
        <label for="username">Username</label>
      </span>
    </div>
    <br>
    <div class="p-col-6 p-offset-3">
      <span class="p-float-label">
        <input type="text" id="phone" name="phone" aria-describedby="phone-help"
               pInputText [(ngModel)]="me.phone">
        <label for="phone">Phone</label>
      </span>
    </div>
    <div class="p-col-6 p-offset-3">
      <div class="p-grid p-jc-center">
        <div class="p-col-4">
          <button pButton pRipple type="button" label="Update profile" class="p-button-success"
                  icon="pi pi-check" iconPos="right" (click)="updateProfile()"></button>
        </div>
      </div>
    </div>
    <p-divider></p-divider>
    <div class="p-col-6 p-offset-3">
      <div class="mono-font p-text-center">
        Change password
      </div>
    </div>
    <br>
    <div class="p-col-6 p-offset-3">
      <label for="oldPassword">Old password</label>
      <p-password id="oldPassword" [(ngModel)]="formData.oldPassword" [toggleMask]="true" [feedback]="false"></p-password>
    </div>
    <div class="p-col-6 p-offset-3">
      <label for="newPassword">New password</label>
      <p-password id="newPassword" [(ngModel)]="formData.newPassword" [toggleMask]="true"></p-password>
    </div>
    <br>
    <div class="p-col-6 p-offset-3">
      <div class="p-grid p-jc-center">
        <div class="p-col-4">
          <button pButton pRipple type="button" label="Change password" class="p-button-success"
                  icon="pi pi-check" iconPos="right" (click)="changePassword()"></button>
        </div>
      </div>
    </div>
  </div>
</p-card>
